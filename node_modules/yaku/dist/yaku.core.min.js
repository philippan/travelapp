!function(){"use strict";var i,e,r,o=null,n="object"==typeof self,u=n?self:global,t=u.Promise,f=u.process,c=Array,s=0,a=1,h=2,l="Symbol",v="species",_="return",p="Invalid argument",d="Chaining cycle detected for promise",w="unhandledRejection",y={e:o},m=function(){},j=u[l]||{},g=n?function(n){t?new t(function(n){n()}).then(n):setTimeout(n)}:f.nextTick,k=function(n){var t,e=this;if(!C(e)||e._s!==i)throw P("Invalid this");if(e._s=h,n!==m){if(!x(n))throw P(p);(t=T(n)(O(e,a),O(e,s)))===y&&z(e,s,t.e)}};function b(){return j[v]||"Symbol(species)"}function C(n){return n&&"object"==typeof n}function x(n){return"function"==typeof n}function R(n,t,e){if(!t(n))throw P(e)}function Y(){try{return e.apply(r,arguments)}catch(n){return y.e=n,y}}function T(n,t){return e=n,r=t,Y}function F(t,e){var r=c(t),o=0;function u(){for(var n=0;n<o;)e(r[n],r[n+1]),r[n++]=i,r[n++]=i;o=0,r.length>t&&(r.length=t)}return function(n,t){r[o++]=n,r[o++]=t,2===o&&g(u)}}function I(n,t){var e,r,o,u,i=0;if(!n)throw P(p);var f=n[j.iterator];if(x(f))r=f.call(n);else{if(!x(n.next)){if(n instanceof c){for(e=n.length;i<e;)t(n[i],i++);return i}throw P(p)}r=n}for(;!(o=r.next()).done;)if((u=T(t)(o.value,i++))===y)throw x(r[_])&&r[_](),u.e;return i}function P(n){return new TypeError(n)}(function(n,t){for(var e in t)n.prototype[e]=t[e]})(k.default=k,{then:function(n,t){if(void 0===this._s)throw P();return function(n,t,e,r){x(e)&&(t._onFulfilled=e);x(r)&&(n._uh&&E("rejectionHandled",n),t._onRejected=r);n[n._pCount++]=t,n._s!==h&&S(n,t);return t}(this,L((e=k,(r=this.constructor)&&r[b()]||e)),n,t);var e,r},catch:function(n){return this.then(i,n)},finally:function(t){return this.then(function(n){return k.resolve(t()).then(function(){return n})},function(n){return k.resolve(t()).then(function(){throw n})})},_pCount:0,_pre:o,_Yaku:1}),k.resolve=function(n){return H(n)?n:B(L(this),n)},k.reject=function(n){return z(L(this),s,n)},k.race=function(n){var t=this,e=L(t),r=function(n){z(e,a,n)},o=function(n){z(e,s,n)},u=T(I)(n,function(n){t.resolve(n).then(r,o)});return u===y?t.reject(u.e):e},k.all=function(n){var e,r=this,o=L(r),u=[];function i(n){z(o,s,n)}return(e=T(I)(n,function(n,t){r.resolve(n).then(function(n){u[t]=n,--e||z(o,a,u)},i)}))===y?r.reject(e.e):(e||z(o,a,[]),o)},T(function(){Object.defineProperty(k,b(),{get:function(){return this}})})(),k._Yaku=1;var S=F(999,function(n,t){var e,r;(r=n._s?t._onFulfilled:t._onRejected)!==i?(e=T(q)(r,n._v))!==y?B(t,e):z(t,s,e.e):z(t,n._s,n._v)}),A=F(9,function(n){(function n(t){{if(t._umark)return!0;t._umark=!0}var e,r=0,o=t._pCount;for(;r<o;)if((e=t[r++])._onRejected||n(e))return!0})(n)||(n._uh=1,E(w,n))});function E(n,t){var e="on"+n.toLowerCase(),r=u[e];f&&f.listeners(n).length?n===w?f.emit(n,t._v,t):f.emit(n,t):r&&r({reason:t._v,promise:t})}function H(n){return n&&n._Yaku}function L(n){return H(n)?new n(m):(e=new n(function(n,t){if(e)throw P();r=n,o=t}),R(r,x),R(o,x),e);var e,r,o}function O(t,e){var r=!1;return function(n){r||(r=!0,e===a?B(t,n):z(t,e,n))}}function q(n,t){return n(t)}function z(n,t,e){var r=0,o=n._pCount;if(n._s===h)for(n._s=t,n._v=e,t===s&&A(n);r<o;)S(n,n[r++]);return n}function B(n,t){if(t===n&&t)return z(n,s,P(d)),n;if(t!==o&&(x(t)||C(t))){var e=T(D)(t);if(e===y)return z(n,s,e.e),n;x(e)?H(t)?G(n,t,e):g(function(){G(n,t,e)}):z(n,a,t)}else z(n,a,t);return n}function D(n){return n.then}function G(t,e,n){var r=T(n,e)(function(n){e&&(e=o,B(t,n))},function(n){e&&(e=o,z(t,s,n))});r===y&&e&&(z(t,s,r.e),e=o)}try{module.exports=k}catch(n){u.Yaku=k}}();